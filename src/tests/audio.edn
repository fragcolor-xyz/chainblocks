(defnode main)

(defloop play-files
  (Audio.ReadFile "../../external/file_example_OOG_1MG.ogg" :From 1.0 :To 1.023219954648526)
  (Log))

(schedule main play-files)
(run main)
(schedule main play-files)
(run main)

(defloop play-file-fft
  (Audio.ReadFile "../../external/file_example_OOG_1MG.ogg" :Channels 1 :From 5.0 :To 6.0)
  (DSP.FFT) = .freq-domain
  (DSP.IFFT :Audio true)
  (Audio.WriteFile "example.wav" :Channels 1)
  .freq-domain (DSP.IFFT :Complex true) (DSP.FFT) ; FOR COVERAGE
  .freq-domain (DSP.IFFT :Complex false) 
  (Math.Normalize :Positive true)
  (FloatsToImage 32 32 1) (WritePNG "example.wav.png")
  (Log))

(schedule main play-file-fft)
(run main)