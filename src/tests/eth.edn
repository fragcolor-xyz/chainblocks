(defnode Main)
(defchain test
  10 (BigInt) = .0 (Log)
  20 (BigInt) = .1 (Log)
  30 (BigInt) = .2 (Log)
  40 (BigInt) = .3 (Log)
  [.0 .1 .2 .3]
  (Eth.EncodeCall
   "[{
      \"inputs\": [
        {
          \"internalType\": \"uint160\",
          \"name\": \"templateHash\",
          \"type\": \"uint160\"
        },
        {
          \"internalType\": \"bytes\",
          \"name\": \"environment\",
          \"type\": \"bytes\"
        },
        {
          \"internalType\": \"bytes32\",
          \"name\": \"cacheDirectoryCid\",
          \"type\": \"bytes32\"
        },
        {
          \"internalType\": \"uint256\",
          \"name\": \"includeCost\",
          \"type\": \"uint256\"
        }
      ],
      \"name\": \"update\",
      \"outputs\": [],
      \"stateMutability\": \"nonpayable\",
      \"type\": \"function\"
    }]"
   "update")
  (ToHex)
  (Log)
  ;; (Assert.Is "0xd443e458000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000020014000000000000000000000000000000000000000000000000000000000000" true)
  )
(schedule Main test)
(run Main)